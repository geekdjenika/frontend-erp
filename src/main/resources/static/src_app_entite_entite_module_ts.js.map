{"version":3,"file":"src_app_entite_entite_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAkD;AACT;AACU;AACmC;AACF;IAOvE,eAAe,SAAf,eAAe;IAK1B,YAAoB,MAAc,EAAS,WAA8B,EAAS,mBAAuC;QAArG,WAAM,GAAN,MAAM,CAAQ;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAAS,wBAAmB,GAAnB,mBAAmB,CAAoB;IAAI,CAAC;IAI9H,QAAQ;QACN,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;QAEjE,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,MAAM,GAAE;YACpG,IAAI,CAAC,KAAK,GAAC,MAAM,CAAC,IAAI,CAAC;YACvB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;YACvB,IAAI,CAAC,UAAU,GAAC,MAAM,CAAC,IAAI,CAAC,MAAM;YAClC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;QACzB,CAAC,CAAC;IACR,CAAC;IAGK,gBAAgB,CAAC,EAAE;;YACvB,iDAAiD;YAC/C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAC,8FAAqB;gBAC/B,KAAK,EAAC,EAAE;gBACR,QAAQ,EAAC,aAAa;aACvB,CAAC,CAAC;YACH,MAAM,OAAO,CAAC,OAAO,EAAE;QAC3B,CAAC;KAAA;;;;;;;AA7BU,eAAe;IAL3B,wDAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,wEAAsC;;KAEvC,CAAC;GACW,eAAe;AAAA;;;;;;;;;;;;;;;;;;;;ACXa;AACc;AAEZ;AAE3C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,oDAAU;KACtB,EAAC;QACA,IAAI,EAAE,oBAAoB;QAC1B,YAAY,EAAE,GAAG,EAAE,CAAC,iMAAiD,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,uBAAuB,CAAC;KAC5G;CACF,CAAC;IAMW,uBAAuB,SAAvB,uBAAuB;;AAAvB,uBAAuB;IAJnC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,uBAAuB;AAAA;;;;;;;;;;;;;;;;;;;;;;;;ACnBK;AACM;AACF;AAEA;AAEqB;AAEvB;AACkB;IAWhD,gBAAgB,SAAhB,gBAAgB;;AAAhB,gBAAgB;IAT5B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,2EAAuB;SACxB;QACD,YAAY,EAAE,CAAC,oDAAU,EAAE,qEAAe,CAAC;KAC5C,CAAC;GACW,gBAAgB;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBqB;AAEiC;AAEjB;AACe;AACxB;AAC2B;AACrD;IASlB,UAAU,SAAV,UAAU;IAmBrB,YAAoB,mBAAwC,EAAU,aAA4B,EAAU,cAAqC,EACvI,WAA+B,EAAU,MAAc,EAAU,KAAqB;QAD5E,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,mBAAc,GAAd,cAAc,CAAuB;QACvI,gBAAW,GAAX,WAAW,CAAoB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,UAAK,GAAL,KAAK,CAAgB;QAlBhG,cAAS,GAAY,KAAK,CAAC;QAC3B,eAAU,GAAY,KAAK,CAAC;QAoL5B,qDAAqD;QAErD,gBAAW,GAAG,KAAK,CAAC;IArKgF,CAAC;IAerG,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC;QACnE,OAAO,CAAC,GAAG,CAAC,6BAA6B,GAAG,IAAI,CAAC,WAAW,CAAC;QAC7D,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,kCAAkC;QAClC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACnG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC;YAEjC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;QAE/B,CAAC,CAAC;IAIJ,CAAC;IAED,KAAK;QACH,uDAAS,CAAC;YACR,KAAK,EAAE,iBAAiB;YACxB,IAAI,EAAE,0BAA0B;YAChC,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,IAAI;YACvB,iBAAiB,EAAE,UAAU;YAC7B,kBAAkB,EAAE,SAAS;YAC7B,cAAc,EAAE,KAAK;YACrB,gBAAgB,EAAE,KAAK;YACvB,iBAAiB,EAAE,KAAK;SACzB,CAAC;IACJ,CAAC;IAED,4CAA4C;IAE5C,YAAY;QACV,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACnG,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;gBACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI;gBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM;gBAChC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;aACvB;QACH,CAAC,CAAC;IAGJ,CAAC;IAKD,iBAAiB,CAAC,KAAU;QAE1B,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;IAC/B,CAAC;IACD,kBAAkB,CAAC,KAAU;QAE3B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;IAC/B,CAAC;IACD,oBAAoB;IAEpB,eAAe,CAAC,EAAU;QACxB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,kCAAkC,EAAE,EAAE,CAAC,CAAC,CAAC;IAExE,CAAC;IAED,yCAAyC;IACzC,IAAI;QACF,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,aAAa;QACX,yBAAyB;QACzB,0BAA0B;QAC1B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,mBAAmB,GAAG,IAAI,CAAC,aAAa,GAAG,gBAAgB,GAAG,IAAI,CAAC,WAAW,GAAG,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAC1J,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAEpD,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC;YAE/C,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE;gBACzF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;aACpC;SACF;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;YAC5B,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;gBACrL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,IAAI,CAAC,MAAM,GAAG,IAAI;gBAClB,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE;oBAC/B,wBAAwB;oBACxB,0BAA0B;oBAC1B,IAAI,CAAC,KAAK,EAAE;iBACb;qBAAM;oBACL,IAAI,CAAC,SAAS,GAAG,KAAK;oBACtB,IAAI,CAAC,UAAU,GAAG,IAAI;iBACvB;YACH,CAAC,CAAC;YACF,IAAI,CAAC,IAAI,EAAE,CAAC;SACb;aAAM;YACL,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBACxD,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;oBAC5G,uDAAS,CAAC;wBACR,KAAK,EAAE,QAAQ;wBACf,IAAI,EAAE,mDAAmD;wBACzD,UAAU,EAAE,KAAK;wBACjB,iBAAiB,EAAE,IAAI;wBACvB,iBAAiB,EAAE,IAAI;wBACvB,kBAAkB,EAAE,SAAS;wBAC7B,cAAc,EAAE,KAAK;wBACrB,gBAAgB,EAAE,KAAK;wBACvB,iBAAiB,EAAE,KAAK;qBACzB,CAAC;iBACH;qBAAM;oBACL,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;wBACrL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBAClB,IAAI,CAAC,MAAM,GAAG,IAAI;wBAClB,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,IAAI,IAAI,EAAE;4BAC/B,wBAAwB;4BACxB,0BAA0B;4BAC1B,IAAI,CAAC,KAAK,EAAE;yBACb;6BAAM;4BACL,IAAI,CAAC,SAAS,GAAG,KAAK;4BACtB,IAAI,CAAC,UAAU,GAAG,IAAI;yBACvB;oBACH,CAAC,CAAC;oBACF,IAAI,CAAC,IAAI,EAAE,CAAC;iBACb;aAEF;SAEF;QAGD,sBAAsB;IACxB,CAAC;IAID,SAAS;QACP,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;QACnB,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACnG,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EAAE;gBACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI;gBACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM;gBAChC,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC;aACxC;QACH,CAAC,CAAC;IAEJ,CAAC;IAKD,OAAO,CAAC,MAAe,EAAE,EAAO;QAC9B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC;QAC1B,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;QACf,2BAA2B;QAC3B,IAAI,CAAC,QAAQ,GAAG,EAAE;QAClB,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACnH,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI;YACxB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;YACjD,kEAAkE;YAClE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW;YAC7C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;YACpC,gDAAgD;YAChD,sDAAsD;YACtD,wCAAwC;QAC1C,CAAC,CAAC;IACJ,CAAC;IACD,QAAQ;QACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;IAC3B,CAAC;IACD,2CAA2C;IAC3C,cAAc;QACZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAEpD,MAAM,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC;YAEjD,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE;gBACzF,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;aACpC;SACF;QACD,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YAE/M,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACnB,CAAC,CAAC;QACF,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,eAAe,CAAC,EAAO;QAErB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YAC1G,OAAO,CAAC,GAAG,CAAC,iCAAiC,CAAC;YAC9C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;;;;;;;;;;AAxOU,UAAU;IANtB,wDAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,mEAAiC;;KAElC,CAAC;GAEW,UAAU;AAAA;;;;;;;;;;;;;;;;;;;;ACjB2B;AACP;AAEgB;IAK9C,mBAAmB,SAAnB,mBAAmB;IAI9B,YAAmB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;QAFlC,QAAG,GAAC,qEAAW,CAAC;IAEsB,CAAC;IAEvC,mBAAmB,CAAC,KAAY,EAAE,QAAe,EAAC,EAAS;QACzD,MAAM,IAAI,GAAU,IAAI,QAAQ,EAAE,CAAC;QACnC,MAAM,IAAI,GAAC;YACT;gBACE,OAAO,EAAC,KAAK;gBACb,UAAU,EAAC,QAAQ;aACpB;SAAC,CAAC;QACH,mBAAmB;QACnB,MAAM;QACN,eAAe;QAEf,OAAO;QACP,IAAI,CAAC,MAAM,CAAC,MAAM,EAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,EAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC1F,mGAAmG;QACnG,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,sBAAsB,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;IAC3E,CAAC;;;;;AArBU,mBAAmB;IAH/B,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,mBAAmB;AAAA","sources":["./src/app/cloche/cloche.component.ts","./src/app/entite/entite-routing.module.ts","./src/app/entite/entite.module.ts","./src/app/entite/entite.page.ts","./src/app/services/detailsentit/detailentite.service.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { PopoverController } from '@ionic/angular';\r\nimport { PopupNotificationPage } from '../popup-notification/popup-notification.page';\r\nimport { NotificationService } from '../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-cloche',\r\n  templateUrl: './cloche.component.html',\r\n  styleUrls: ['./cloche.component.scss'],\r\n})\r\nexport class ClocheComponent implements OnInit {\r\nnombre:any\r\nUtilisateur:any\r\nnotif:any\r\n  notifTotal: any;\r\n  constructor(private router: Router,private popoverCtrl: PopoverController,private notificationService:NotificationService) { }\r\n \r\n\r\n\r\n  ngOnInit() {\r\n    this.Utilisateur=JSON.parse(localStorage.getItem('utilisateur'));\r\n    \r\n    this.notificationService.GetAllNotif(this.Utilisateur.login, this.Utilisateur.password).subscribe(retour=>{\r\n          this.notif=retour.data;\r\n          console.log(this.notif)\r\n          this.notifTotal=retour.data.length\r\n          console.log(this.notif)\r\n        })\r\n  }\r\n  \r\n\r\n  async OpenNotification(id){\r\n    // this.router.navigate((['tabs',\"message\",id]));\r\n      const popover = await this.popoverCtrl.create({\r\n        component:PopupNotificationPage,\r\n        event:id,\r\n        cssClass:\"notif-popup\"\r\n      });\r\n      await popover.present()\r\n  }\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EntitePage } from './entite.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EntitePage\r\n  },{\r\n    path: 'details-entite/:id',\r\n    loadChildren: () => import('../details-entite/details-entite.module').then( m => m.DetailsEntitePageModule)\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EntitePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EntitePageRoutingModule } from './entite-routing.module';\r\n\r\nimport { EntitePage } from './entite.page';\r\nimport { ClocheComponent } from '../cloche/cloche.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    EntitePageRoutingModule\r\n  ],\r\n  declarations: [EntitePage, ClocheComponent]\r\n})\r\nexport class EntitePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { AccueilserviceService } from '../services/acceuil/accueilservice.service';\r\n\r\nimport { EntiteService } from '../services/entite/entite.service';\r\nimport { UtilisateurService } from '../services/utilisateur/utilisateur.service';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DetailentiteService } from '../services/detailsentit/detailentite.service';\r\nimport Swal from 'sweetalert2';\r\n// import { NouvelleEntitePage } from '../nouvelle-entite/nouvelle-entite.page';\r\n\r\n@Component({\r\n  selector: 'app-entite',\r\n  templateUrl: './entite.page.html',\r\n  styleUrls: ['./entite.page.scss'],\r\n})\r\n\r\nexport class EntitePage implements OnInit {\r\n  modelData: any;\r\n  alertTrue: boolean = false;\r\n  alertFalse: boolean = false;\r\n\r\n  statusResponsable: any;\r\n  nomEntite: any;\r\n  nomResponsable: any;\r\n  descriptionEntite: any;\r\n  prenomResponsable: any;\r\n  imageEntite: any;\r\n  nomEntite1: any;\r\n  descriptionEntite1: any;\r\n  libelleentiteMo: any;\r\n  descriptionMo: any;\r\n  responsableEntiteMo: any;\r\n  idEntite: any;\r\n  imageentite1: any;\r\n\r\n  constructor(private entitedetailservice: DetailentiteService, private entiteService: EntiteService, private acceuilService: AccueilserviceService,\r\n    private userService: UtilisateurService, private router: Router, private route: ActivatedRoute) { }\r\n\r\n  longueur: any\r\n\r\n  Utilisateur: any;\r\n  donneEntite: any;\r\n  libelleentite: any;\r\n  description: any;\r\n  imageentite: any;\r\n  toutUtilisateur: any;\r\n  responsableEntite: any;\r\n  lead: any;\r\n  donner: any\r\n\r\n  entites: any;\r\n  ngOnInit() {\r\n    this.Utilisateur = JSON.parse(localStorage.getItem('utilisateur'));\r\n    console.log(\"recuperantion l'utilisateur\" + this.Utilisateur)\r\n    this.allEntite();\r\n    //console.log(this.getAllEntite())\r\n    this.userService.getActivesUsers(this.Utilisateur.login, this.Utilisateur.password).subscribe(data => {\r\n      this.toutUtilisateur = data.data;\r\n\r\n      console.log(data.data[1].nom)\r\n\r\n    })\r\n\r\n    \r\n\r\n  }\r\n\r\n  popUp() {\r\n    Swal.fire({\r\n      title: 'Félicitation !!',\r\n      text: 'Entité créée avec succes',\r\n      heightAuto: false,\r\n      showConfirmButton: true,\r\n      confirmButtonText: \"D'accord\",\r\n      confirmButtonColor: '#FF7900',\r\n      showDenyButton: false,\r\n      showCancelButton: false,\r\n      allowOutsideClick: false\r\n    })\r\n  }\r\n\r\n  //Methode permettant de recuperer les entite\r\n\r\n  getAllEntite(): any {\r\n    this.entiteService.getAllEntites(this.Utilisateur.login, this.Utilisateur.password).subscribe(data => {\r\n      if (data.message == 'ok') {\r\n        this.entites = data.data\r\n        this.longueur = data.data.length\r\n        console.log(data.data)\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  recuperationImage(event: any) {\r\n\r\n    this.imageentite = event.target[\"files\"][0];\r\n    console.log(this.imageentite)\r\n  }\r\n  recuperationImage1(event: any) {\r\n\r\n    this.imageentite1 = event.target[\"files\"][0];\r\n    console.log(this.imageentite)\r\n  }\r\n  //Redirection voir +\r\n\r\n  RedirigerEntite(id: number) {\r\n    return this.router.navigate(['/dashboard/entite/details-entite', id]);\r\n\r\n  }\r\n\r\n  // methode permettant de creer une entite\r\n  alet(): void {\r\n    setTimeout(() => {\r\n      this.getAllEntite();\r\n    }, 1000);\r\n  }\r\n\r\n  postAllEntite() {\r\n    // this.alertTrue = false\r\n    // this.alertFalse = false\r\n    console.log(this.imageentite + \" libelleentite : \" + this.libelleentite + \"description : \" + this.description + \"responsable : \" + this.responsableEntite)\r\n    for (let i = 0; i < this.toutUtilisateur.length; i++) {\r\n\r\n      const array = this.responsableEntite.split(' ')\r\n\r\n      if (this.toutUtilisateur[i].prenom == array[0] && this.toutUtilisateur[i].nom == array[1]) {\r\n        this.lead = this.toutUtilisateur[i]\r\n      }\r\n    }\r\n    if (this.entites.length == 0) {\r\n      this.entiteService.PostEntite(this.Utilisateur.login, this.Utilisateur.password, this.imageentite, this.libelleentite, this.description, this.Utilisateur, this.lead).subscribe(data => {\r\n        console.log(data);\r\n        this.donner = data\r\n        if (this.donner.message == 'ok') {\r\n          // this.alertTrue = true\r\n          // this.alertFalse = false\r\n          this.popUp()\r\n        } else {\r\n          this.alertTrue = false\r\n          this.alertFalse = true\r\n        }\r\n      })\r\n      this.alet();\r\n    } else {\r\n      for (let index = 0; index < this.entites.length; index++) {\r\n        if (this.lead.nom == this.entites[index].gerant.nom && this.lead.prenom == this.entites[index].gerant.prenom) {\r\n          Swal.fire({\r\n            title: 'Alerte',\r\n            text: 'Cette personne est déjà responsable d\\'une entité',\r\n            heightAuto: false,\r\n            showConfirmButton: true,\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: '#FF7900',\r\n            showDenyButton: false,\r\n            showCancelButton: false,\r\n            allowOutsideClick: false\r\n          })\r\n        } else {\r\n          this.entiteService.PostEntite(this.Utilisateur.login, this.Utilisateur.password, this.imageentite, this.libelleentite, this.description, this.Utilisateur, this.lead).subscribe(data => {\r\n            console.log(data);\r\n            this.donner = data\r\n            if (this.donner.message == 'ok') {\r\n              // this.alertTrue = true\r\n              // this.alertFalse = false\r\n              this.popUp()\r\n            } else {\r\n              this.alertTrue = false\r\n              this.alertFalse = true\r\n            }\r\n          })\r\n          this.alet();\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n    // this.presentAlert()\r\n  }\r\n\r\n\r\n\r\n  allEntite() {\r\n    console.log(\"zzzz\")\r\n    this.entiteService.getAllEntites(this.Utilisateur.login, this.Utilisateur.password).subscribe(data => {\r\n      if (data.message == 'ok') {\r\n        this.entites = data.data\r\n        this.longueur = data.data.length\r\n        console.log(\"nos entites \" + data.data)\r\n      }\r\n    })\r\n\r\n  }\r\n  //Methode permettant de d'afficher le popup modifier \r\n\r\n  isModalOpen = false;\r\n\r\n  setOpen(isOpen: boolean, id: any) {\r\n    this.isModalOpen = isOpen;\r\n    console.log(\"________________________\")\r\n    console.log(this.Utilisateur.login)\r\n    console.log(id)\r\n    // this.getEntiteParId(id);\r\n    this.idEntite = id\r\n    this.entitedetailservice.voirdetailsEntiteid(this.Utilisateur.login, this.Utilisateur.password, id).subscribe(data => {\r\n      this.entites = data.data\r\n      console.log(this.entites.libelleentite)\r\n      this.libelleentiteMo = this.entites.libelleentite\r\n      // this.statusResponsable = this.entites.createur.role.libellerole\r\n      this.descriptionMo = this.entites.description\r\n      console.log(this.descriptionEntite1)\r\n      // this.nomResponsable = this.entites.gerant.nom\r\n      // this.prenomResponsable = this.entites.gerant.prenom\r\n      // this.imageEntite = this.entites.image\r\n    })\r\n  }\r\n  setClose() {\r\n    this.isModalOpen = false;\r\n  }\r\n  //Methode permettant de Modifier une entite\r\n  modifierEntite() {\r\n    for (let i = 0; i < this.toutUtilisateur.length; i++) {\r\n\r\n      const array = this.responsableEntiteMo.split(' ')\r\n\r\n      if (this.toutUtilisateur[i].prenom == array[0] && this.toutUtilisateur[i].nom == array[1]) {\r\n        this.lead = this.toutUtilisateur[i]\r\n      }\r\n    }\r\n    this.entiteService.updateEntiteById(this.Utilisateur.login, this.Utilisateur.password, this.idEntite, this.imageentite1, this.libelleentiteMo, this.descriptionMo, this.Utilisateur, this.lead).subscribe(data => {\r\n\r\n      console.log(data)\r\n    })\r\n    this.alet();\r\n  }\r\n\r\n  supprimerEntite(id: any) {\r\n\r\n    this.entiteService.deleteEntiteById(this.Utilisateur.login, this.Utilisateur.password, id).subscribe(data => {\r\n      console.log(\"sssssssssssssssssssssssssssssss\")\r\n      console.log(data)\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DetailentiteService {\r\n\r\n  env=environment;\r\n\r\n  constructor(public http:HttpClient) { }\r\n\r\n  voirdetailsEntiteid(login:String, password:String,id:number):Observable<any>{\r\n    const data:FormData=new FormData();\r\n    const user=[\r\n      {\r\n        \"login\":login,\r\n        \"password\":password\r\n      }];\r\n      // const identite=[\r\n      //   {\r\n      //     \"id\":id,\r\n        \r\n      //   }]\r\n      data.append('user' , JSON.stringify(user).slice(1,JSON.stringify(user).lastIndexOf(']')));\r\n      // data.append('id' , JSON.stringify(identite).slice(1,JSON.stringify(identite).lastIndexOf(']')));\r\n      return this.http.post(`${this.env.api}/entite/get/entite/${id}`, data);\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}